/**
 * Глубокое копирование объекта
 *
 * Задача: Создать полную независимую копию объекта, включая все вложенные объекты и массивы.
 * Изменения в копии не должны влиять на оригинальный объект.
 *
 * Подход:
 * Используется рекурсивный обход объекта. Для каждого свойства проверяем тип:
 * - Примитивные типы (number, string, boolean, null, undefined) возвращаем как есть
 * - Для объектов и массивов создаём новый экземпляр и рекурсивно копируем все свойства
 *
 * Паттерны: #recursion, #objects
 * Сложность: O(n), где n - количество свойств в объекте
 *
 * @param {*} obj - Объект для копирования
 * @returns {*} Глубокая копия объекта
 */
function deepCopy(obj) {
  // Базовый случай: примитивные типы и null возвращаем как есть
  if (typeof obj !== "object" || obj === null) return obj;

  // Создаём новый массив или объект в зависимости от типа
  const copy = Array.isArray(obj) ? [] : {};

  // Рекурсивно копируем все свойства
  for (const key in obj) {
    // Проверяем, что свойство принадлежит самому объекту, а не прототипу
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      // Рекурсивно копируем вложенные объекты
      copy[key] = deepCopy(obj[key]);
    }
  }
  return copy;
}

deepCopy({ a: 1, b: { c: 2 } });
